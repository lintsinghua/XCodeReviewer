@tailwind base;
@tailwind components;
@tailwind utilities;

@font-face {
  font-family: 'ArkPixel';
  src: url('/fonts/ark-pixel-12px-monospaced-zh_cn.ttf.woff2') format('woff2');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

/*
  DeepAudit Design System v2.0
  Aesthetic: Cyberpunk Terminal / Cassette Futurism / Hacker Dark
  Core Palette: Orange (#FF6B2C), Emerald, Deep Blacks, Grays
  Philosophy: Dark, professional, high-tech, clean
*/

@layer base {
  :root {
    /* Force dark mode colors for cyberpunk aesthetic */
    --background: 240 10% 4%;           /* #0a0a0f - Deep black */
    --foreground: 0 0% 95%;             /* Almost white text */

    /* Card & Surfaces - Darker with subtle blue tint */
    --card: 240 10% 6%;                 /* #0d0d14 */
    --card-foreground: 0 0% 95%;

    /* Popover - Slightly elevated surface */
    --popover: 240 10% 8%;              /* #101018 */
    --popover-foreground: 0 0% 95%;

    /* Primary - Vibrant Orange (Core brand) */
    --primary: 16 100% 58%;             /* #FF6B2C */
    --primary-foreground: 0 0% 100%;

    /* Secondary - Cyan/Teal accent */
    --secondary: 180 70% 45%;           /* Teal */
    --secondary-foreground: 0 0% 100%;

    /* Success - Emerald Green */
    --success: 160 84% 39%;             /* #10b981 */
    --success-foreground: 0 0% 100%;

    /* Muted - Dark grey for subtle elements */
    --muted: 240 10% 12%;
    --muted-foreground: 240 5% 55%;

    /* Accent - Purple/Violet for thinking/AI */
    --accent: 270 70% 55%;              /* Violet */
    --accent-foreground: 0 0% 100%;

    /* Destructive - Red for errors */
    --destructive: 0 84% 60%;           /* Rose */
    --destructive-foreground: 0 0% 100%;

    /* Borders & Inputs */
    --border: 240 10% 18%;              /* Subtle dark border */
    --input: 240 10% 15%;
    --ring: 16 100% 58%;                /* Orange focus ring */

    /* Border radius - Sharp cyber aesthetic */
    --radius: 4px;

    /* Shadows - Subtle glow effects */
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.5);
    --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.5);
    --shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.5);
    --shadow-focus: 0 0 0 2px rgba(255, 107, 44, 0.3);
    --shadow-glow-primary: 0 0 20px rgba(255, 107, 44, 0.15);
    --shadow-glow-success: 0 0 20px rgba(16, 185, 129, 0.15);
    --shadow-glow-accent: 0 0 20px rgba(139, 92, 246, 0.15);
  }

  /* Keep dark mode as default - no light mode needed */
  .dark {
    /* Same as root - always dark */
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    scroll-behavior: smooth;
    color-scheme: dark;
  }

  body {
    @apply bg-background text-foreground font-mono antialiased;
    background-color: hsl(240 10% 4%);
    transition: background-color 0.2s ease;
  }

  /* Typography Hierarchy */
  h1 {
    @apply font-display font-bold tracking-tight text-3xl text-white;
    letter-spacing: -0.02em;
  }

  h2 {
    @apply font-display font-bold tracking-tight text-2xl text-white;
    letter-spacing: -0.01em;
  }

  h3 {
    @apply font-display font-bold tracking-tight text-xl text-white;
  }

  h4 {
    @apply font-display font-semibold tracking-tight text-lg text-gray-100;
  }

  h5, h6 {
    @apply font-display font-semibold text-base text-gray-200;
  }

  /* Focus states */
  button:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    outline: none;
    box-shadow: var(--shadow-focus);
  }

  /* Custom selection */
  ::selection {
    background: rgba(255, 107, 44, 0.3);
    color: white;
  }
}

@layer utilities {
  /* ============ Cyberpunk Card Styles ============ */
  .cyber-card {
    @apply bg-[#0c0c12] border border-gray-800/60 rounded-lg overflow-hidden;
    box-shadow: var(--shadow-md);
    transition: all 0.2s ease;
  }

  .cyber-card:hover {
    @apply border-gray-700/80;
    box-shadow: var(--shadow-lg);
  }

  .cyber-card-glow {
    @apply cyber-card;
    box-shadow: var(--shadow-md), var(--shadow-glow-primary);
  }

  .cyber-card-header {
    @apply flex items-center gap-2 px-4 py-3 bg-[#0a0a0f] border-b border-gray-800/50;
  }

  /* ============ Terminal Window Style ============ */
  .terminal-window {
    @apply bg-[#0c0c12] border border-gray-800/60 rounded-lg overflow-hidden;
  }

  .terminal-header {
    @apply flex items-center gap-2 px-4 py-2.5 bg-[#0a0a0f] border-b border-gray-800/50;
  }

  .terminal-dots {
    @apply flex items-center gap-1.5;
  }

  .terminal-dot {
    @apply w-3 h-3 rounded-full;
  }

  .terminal-dot-red { @apply bg-red-500/80; }
  .terminal-dot-yellow { @apply bg-yellow-500/80; }
  .terminal-dot-green { @apply bg-green-500/80; }

  .terminal-title {
    @apply text-[11px] text-gray-500 ml-3 font-mono tracking-wider;
  }

  .terminal-content {
    @apply p-4 font-mono text-sm;
  }

  /* ============ Cyber Buttons ============ */
  .cyber-btn {
    @apply font-mono font-semibold py-2 px-4 rounded transition-all duration-150;
    @apply border border-gray-700/50 bg-gray-800/50;
    @apply hover:bg-gray-700/50 hover:border-gray-600;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .cyber-btn-primary {
    @apply cyber-btn bg-primary/90 border-primary/50 text-white;
    @apply hover:bg-primary hover:border-primary;
    box-shadow: 0 0 15px rgba(255, 107, 44, 0.2);
  }

  .cyber-btn-primary:hover {
    box-shadow: 0 0 25px rgba(255, 107, 44, 0.3);
  }

  .cyber-btn-success {
    @apply cyber-btn bg-emerald-600/90 border-emerald-500/50 text-white;
    @apply hover:bg-emerald-500 hover:border-emerald-400;
  }

  .cyber-btn-ghost {
    @apply cyber-btn bg-transparent border-transparent;
    @apply hover:bg-gray-800/50 hover:border-gray-700/50;
  }

  .cyber-btn-outline {
    @apply cyber-btn bg-transparent border-gray-600;
    @apply text-gray-300 hover:bg-gray-800/50 hover:text-white;
  }

  /* ============ Cyber Input Fields ============ */
  .cyber-input {
    @apply bg-[#0a0a0f] border border-gray-700/50 px-4 py-2.5 rounded font-mono text-sm text-gray-200;
    @apply placeholder:text-gray-600;
    @apply focus:border-primary/50 focus:outline-none;
    transition: border-color 0.15s ease, box-shadow 0.15s ease;
  }

  .cyber-input:focus {
    box-shadow: 0 0 0 2px rgba(255, 107, 44, 0.2);
  }

  /* ============ Cyber Badges ============ */
  .cyber-badge {
    @apply inline-flex items-center px-2 py-0.5 rounded text-[10px] font-mono font-bold uppercase tracking-wider;
    @apply border;
  }

  .cyber-badge-primary {
    @apply cyber-badge bg-primary/20 text-primary border-primary/40;
  }

  .cyber-badge-success {
    @apply cyber-badge bg-emerald-500/20 text-emerald-400 border-emerald-500/40;
  }

  .cyber-badge-warning {
    @apply cyber-badge bg-amber-500/20 text-amber-400 border-amber-500/40;
  }

  .cyber-badge-danger {
    @apply cyber-badge bg-rose-500/20 text-rose-400 border-rose-500/40;
  }

  .cyber-badge-info {
    @apply cyber-badge bg-sky-500/20 text-sky-400 border-sky-500/40;
  }

  .cyber-badge-muted {
    @apply cyber-badge bg-gray-500/20 text-gray-400 border-gray-500/40;
  }

  /* ============ Severity Badges ============ */
  .severity-critical {
    @apply text-rose-300 bg-rose-500/20 border border-rose-500/40;
  }

  .severity-high {
    @apply text-orange-300 bg-orange-500/20 border border-orange-500/40;
  }

  .severity-medium {
    @apply text-amber-300 bg-amber-500/20 border border-amber-500/40;
  }

  .severity-low {
    @apply text-sky-300 bg-sky-500/20 border border-sky-500/40;
  }

  .severity-info {
    @apply text-slate-300 bg-slate-500/20 border border-slate-500/40;
  }

  /* ============ Status Indicators ============ */
  .status-dot {
    @apply w-2 h-2 rounded-full;
  }

  .status-active {
    @apply bg-emerald-400;
    box-shadow: 0 0 8px rgba(52, 211, 153, 0.5);
  }

  .status-warning {
    @apply bg-amber-400;
    box-shadow: 0 0 8px rgba(251, 191, 36, 0.5);
  }

  .status-error {
    @apply bg-rose-400;
    box-shadow: 0 0 8px rgba(251, 113, 133, 0.5);
  }

  .status-inactive {
    @apply bg-gray-500;
  }

  /* ============ Glow Effects ============ */
  .glow-primary {
    box-shadow: 0 0 20px rgba(255, 107, 44, 0.3);
  }

  .glow-success {
    box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
  }

  .glow-accent {
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
  }

  .text-glow-primary {
    text-shadow: 0 0 20px rgba(255, 107, 44, 0.5);
  }

  .text-glow-success {
    text-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
  }

  /* ============ Scanline Effect ============ */
  .scanline-overlay {
    position: relative;
  }

  .scanline-overlay::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.1) 2px,
      rgba(0, 0, 0, 0.1) 4px
    );
    pointer-events: none;
    z-index: 10;
  }

  /* ============ Grid Background ============ */
  .cyber-grid {
    background-image:
      linear-gradient(rgba(255, 107, 44, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255, 107, 44, 0.03) 1px, transparent 1px);
    background-size: 32px 32px;
  }

  .cyber-grid-subtle {
    background-image:
      linear-gradient(rgba(255, 255, 255, 0.02) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
    background-size: 24px 24px;
  }

  /* ============ Vignette Effect ============ */
  .vignette {
    position: relative;
  }

  .vignette::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at center, transparent 0%, transparent 50%, rgba(0, 0, 0, 0.4) 100%);
    pointer-events: none;
  }

  /* ============ Custom Scrollbar ============ */
  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: #0a0a0f;
    border-radius: 4px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: #2a2a35;
    border-radius: 4px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #3a3a45;
  }

  /* ============ Animations ============ */
  @keyframes pulse-glow {
    0%, 100% { opacity: 1; box-shadow: 0 0 10px currentColor; }
    50% { opacity: 0.7; box-shadow: 0 0 20px currentColor; }
  }

  @keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }

  @keyframes fadeSlideIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }

  .animate-blink {
    animation: blink 1s step-end infinite;
  }

  .animate-fade-slide-in {
    animation: fadeSlideIn 0.3s ease-out forwards;
  }

  /* ============ Section Headers ============ */
  .section-header {
    @apply flex items-center gap-3 mb-4 pb-3 border-b border-gray-800/50;
  }

  .section-title {
    @apply text-lg font-bold text-white uppercase tracking-wider;
  }

  /* ============ Stat Cards ============ */
  .stat-card {
    @apply cyber-card p-4;
    @apply flex items-center justify-between;
  }

  .stat-value {
    @apply text-3xl font-bold text-white;
  }

  .stat-label {
    @apply text-xs text-gray-500 uppercase tracking-wider font-mono;
  }

  .stat-icon {
    @apply w-12 h-12 rounded-lg flex items-center justify-center;
    @apply bg-gray-800/50 border border-gray-700/50;
  }

  /* ============ Table Styles ============ */
  .cyber-table {
    @apply w-full text-sm;
  }

  .cyber-table thead {
    @apply bg-gray-900/50 border-b border-gray-800;
  }

  .cyber-table th {
    @apply px-4 py-3 text-left text-xs font-mono font-bold uppercase tracking-wider text-gray-400;
  }

  .cyber-table td {
    @apply px-4 py-3 border-b border-gray-800/50;
  }

  .cyber-table tbody tr:hover {
    @apply bg-gray-800/30;
  }

  /* ============ Empty State ============ */
  .empty-state {
    @apply flex flex-col items-center justify-center py-12 text-center;
  }

  .empty-state-icon {
    @apply w-16 h-16 text-gray-600 mb-4;
  }

  .empty-state-title {
    @apply text-lg font-semibold text-gray-400 mb-2;
  }

  .empty-state-description {
    @apply text-sm text-gray-500;
  }

  /* ============ Corner Decorations ============ */
  .corner-decoration {
    @apply absolute text-[10px] font-mono text-gray-700 z-30;
  }

  .corner-tl { @apply top-4 left-4; }
  .corner-tr { @apply top-4 right-4 text-right; }
  .corner-bl { @apply bottom-4 left-4; }
  .corner-br { @apply bottom-4 right-4 text-right; }

  /* ============ Loading States ============ */
  .loading-spinner {
    @apply w-8 h-8 border-2 border-gray-700 border-t-primary rounded-full animate-spin;
  }

  .loading-dots {
    @apply flex gap-1;
  }

  .loading-dots span {
    @apply w-2 h-2 bg-primary rounded-full animate-bounce;
  }

  .loading-dots span:nth-child(2) {
    animation-delay: 0.1s;
  }

  .loading-dots span:nth-child(3) {
    animation-delay: 0.2s;
  }
}
